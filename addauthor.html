<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="assets/LOGO_Updated.png" type="image/x-icon">
    <title>Important Dates - Conference 2024</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="addauthorstyle.css">
</head>

<body>

    <nav class="z-50 bg-white shadow-lg fixed top-0 w-full">
        <div class="container mx-auto flex justify-between items-center p-4">
            <div class="nav-links hidden md:flex justify-center items-center">
                <ul class="flex space-x-4">
                    <li><a class="text-2xl text-gray-700 hover:text-gray-900 transition duration-300 font-bold" href="index.html">Home</a></li>
                    <li><a class="text-2xl text-gray-700 hover:text-gray-900 transition duration-300 font-bold" href="committee.html">Committee</a></li>
                    <li><a class="text-2xl text-gray-700 hover:text-gray-900 transition duration-300 font-bold" href="sponsors.html">Sponsors</a></li>
                    <li class="relative group">
                        <div class="dropdown">
                            <a class="text-2xl text-gray-700 hover:text-gray-900 transition duration-300 flex items-center font-bold" href="#">
                                Author Guidelines
                                <svg class="w-6 h-6 ml-1 text-gray-500 group-hover:text-gray-700 transition duration-300 dropdown-indicator" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </a>
                            <div class="dropdown-content hidden group-hover:block absolute bg-white shadow-lg mt-1">
                                <a class="text-xl block px-4 py-2 text-gray-700 hover:bg-gray-100" href="CallforPapers.html">Call For Papers</a>
                                <a class="text-xl block px-4 py-2 text-gray-700 hover:bg-gray-100" href="Important Dates.html">Important Dates</a>
                                <a class="text-xl block px-4 py-2 text-gray-700 hover:bg-gray-100" href="PaperSubmission.html">Paper-Submission</a>
                                <a class="text-xl block px-4 py-2 text-gray-700 hover:bg-gray-100" href="ProgramSchedule.html">Program Schedule</a>
                                <a class="text-xl block px-4 py-2 text-gray-700 hover:bg-gray-100" href="siteseeing.html">Places to Visit</a>
                                <a class="text-xl block px-4 py-2 text-gray-700 hover:bg-gray-100" href="Accomadation.html">Accommodation</a>

                              
                            </div>
                        </div>
                    </li>
                    <li>
                        <a class="text-2xl text-gray-700 hover:text-gray-900 transition duration-300 font-bold" href="registration.html">Registration</a>
                    </li>
                    <li><a class="text-2xl text-gray-700 hover:text-gray-900 transition duration-300 font-bold" href="contacts.html">Contact</a></li>
                    
                </ul>
            </div>
            <div class="mobile-toggler md:hidden">
                <div class="space-y-2" id="menu-toggle">
                    <div class="w-8 h-1 bg-gray-700 transition transform duration-300"></div>
                    <div class="w-8 h-1 bg-gray-700 transition transform duration-300"></div>
                    <div class="w-8 h-1 bg-gray-700 transition transform duration-300"></div>
                </div>
            </div>
        </div>
        <div class="mobile-menu fixed inset-0 bg-black bg-opacity-50 w-full h-full hidden transform -translate-x-full transition-transform duration-300 ease-in-out z-50">
            <div class="bg-white w-2/4 h-full p-6">
                <div class="flex justify-end">
                    <div id="menu-close" class="cursor-pointer">
                        <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </div>
                </div>
                <ul class="space-y-6 flex flex-col mt-2">
                    <li><a class="text-xl text-gray-700 hover:text-gray-900 transition duration-300" href="index.html">Home</a></li>
                    <li><a class="text-xl text-gray-700 hover:text-gray-900 transition duration-300" href="committee.html">Committee</a></li>
                    <li><a class="text-xl text-gray-700 hover:text-gray-900 transition duration-300" href="sponsors.html">Sponsors</a></li>
                    <li class="relative group">
                        <a class="text-2xl text-gray-700 hover:text-gray-900 transition duration-300 flex items-center " href="#">
                            Author Guidelines
                            <svg class="w-6 h-6 ml-1 text-gray-500 group-hover:text-gray-700 transition duration-300 dropdown-indicator" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </a>
                        <div class="dropdown-content hidden group-hover:block absolute bg-white shadow-lg mt-1">
                            <a class="text-lg block px-4 py-2 text-gray-700 hover:bg-gray-100" href="CallforPapers.html">Call For Papers</a>
                            <a class="text-lg block px-4 py-2 text-gray-700 hover:bg-gray-100" href="Important Dates.html">Important Dates</a>
                            <a class="text-lg block px-4 py-2 text-gray-700 hover:bg-gray-100" href="PaperSubmission.html">Paper-Submission</a>
                            <a class="text-lg block px-4 py-2 text-gray-700 hover:bg-gray-100" href="ProgramSchedule.html">Program Schedule</a>
                            <a class="text-lg block px-4 py-2 text-gray-700 hover:bg-gray-100" href="siteseeing.html">Places to Visit</a>
                            <a class="text-lg block px-4 py-2 text-gray-700 hover:bg-gray-100" href="Accomadation.html">Accommodation</a>
                        </div>
                    </li>
                    <li><a class="text-xl text-gray-700 hover:text-gray-900 transition duration-300 font-bold" href="registration.html">Registration</a></li>
                    <li><a class="text-xl text-gray-700 hover:text-gray-900 transition duration-300" href="contacts.html">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>
<br><br>
    <header>
        <h1>Registration Form</h1>
    </header>
      
    <div class="ccontent">            
        <div class="ccontainer">
            <!-- <form method="post" action="your_action_url_here" enctype="multipart/form-data"> -->
                <form id="nextForm" enctype="multipart/form-data" action="https://script.google.com/a/macros/cutm.ac.in/s/AKfycbwvjCVUk5G2rWbbTNJrYlOOIEXlTXkS7JIa-DHrR-6zkriXhJN6FVRIPSFZaFlg-czAmQ/exec" method="POST">

                    <button type="button" id="back" class="bg-blue-900 hover:bg-blue-500 text-white font-bold py-1 px-3 rounded focus:outline-none focus:shadow-outline">Back</button>
                <!-- Author Names -->
                 <br>
                 <br>
                <div id="authorFields">

                    <div class="input-container">
                        <label for="titleofmanuscript">Title of Manuscript : </label>
                        <input type="text" id="titleofmanuscript" name="titleofmanuscript" required>
                    </div>


                    <div class="input-container">
                        <label for="author_names" >Author Names (Same Order as in Manuscript) : </label>
                        <input type="text" name="author_names[]" required>
                    </div>
                </div>

                
                <!-- Add/Remove Author Buttons -->
                <div class="flex space-x-4">
                    <button type="button" id="addAuthorBtn" class="underline text-xl text-blue-600">Add Author</button>
                    <button type="button" id="removeAuthorBtn" class="underline text-xl text-red-600">Remove Author</button>
                </div>
<br>
                <!-- Abstract -->
                <div class="input-container">
                    <label for="abstract">Abstract :</label>
                    <textarea id="abstract" name="abstract" required></textarea>
                </div>

                <!-- Submit Camera Ready Paper -->
                <p>Submit camera ready paper as per IEEE paper template</p>
                <div class="input-container">
                    <label for="camera_ready_paper">Upload Camera Ready Paper in pdf Format : </label>
                    <input type="file" id="camera_ready_paper" name="camera_ready_paper" required>
                </div>

                <!-- Submit Button -->
             
                <button type="submit" id="submitButton" class="bg-blue-900 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Submit</button>

            </form>
        </div>
    </div>
<br>
      
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const addAuthorBtn = document.getElementById("addAuthorBtn");
            const removeAuthorBtn = document.getElementById("removeAuthorBtn");
            const authorFields = document.getElementById("authorFields");

            addAuthorBtn.addEventListener("click", function() {
                const newInput = document.createElement("div");
                newInput.classList.add("input-container", "mb-4");
                newInput.innerHTML = `
                    <label for="author_names" class="block text-lg font-semibold text-gray-700">Author Name:</label>
                    <input type="text" name="author_names[]" class="block w-full mt-1 px-3 py-2 border rounded-md text-gray-700 focus:outline-none focus:ring focus:ring-blue-200" required>
                `;
                authorFields.appendChild(newInput);
            });

            removeAuthorBtn.addEventListener("click", function() {
                if (authorFields.children.length > 1) {
                    authorFields.removeChild(authorFields.lastChild);
                }
            });

            document.getElementById("back").addEventListener("click", function() {
                window.location.href = "registerform.html";
            });
        });

        // Form submission handling
        document.addEventListener("DOMContentLoaded", function() {
            // Add event listener for form submit
            document.getElementById('nextForm').addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission

                const nextFormData = new FormData(this); // 'this' refers to the form element

                // Store form data in session storage
                sessionStorage.setItem('abstract', nextFormData.get('abstract'));
                const authorNames = [];
                nextFormData.getAll('author_names[]').forEach(name => authorNames.push(name));
                sessionStorage.setItem('author_names', JSON.stringify(authorNames));

                // Send form data to Google Apps Script
                fetch('https://script.google.com/a/macros/cutm.ac.in/s/AKfycbyyiOsyhE5r9h9I5VIQ1L-c0UCJKImwjtT28Wcqh_3FxObqHgm7KlFF7Uj350dWfkoDEQ/exec', {
                        method: 'POST',
                        body: nextFormData
                    })
                    .then(response => {
                        if (response.ok) {
                            alert('Data submitted successfully!');
                            sessionStorage.clear(); // Clear storage after successful submission
                        } else {
                            alert('Failed to submit data.');
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('Failed to submit data.');
                    });
            });
        });
    </script>

    <hr>

    <div id="footer-placeholder"></div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $("#header-placeholder").load("header.html");
            $("#footer-placeholder").load("footer.html");
        });
    </script>

</body>

</html>
